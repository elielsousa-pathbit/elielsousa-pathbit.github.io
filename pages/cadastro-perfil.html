<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil do Investidor - Alba Invest</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <div class="auth-page">
    <div class="auth-box" style="max-width: 550px;">
      <div class="auth-logo">
        <a href="../index.html" class="logo-container"><img src="../assets/logos/logo-orange.png" alt="Alba Invest" style="height: 54px;"></a>
      </div>
      <h1 class="auth-title">Perfil do Investidor</h1>
      <p class="auth-subtitle">Responda 4 perguntas para conhecermos seu perfil</p>

      <!-- Steps -->
      <div class="steps">
        <div class="step completed">
          <div class="step-number"><i class="bi bi-check"></i></div>
          <div class="step-label">Dados</div>
        </div>
        <div class="step completed">
          <div class="step-number"><i class="bi bi-check"></i></div>
          <div class="step-label">Endereco</div>
        </div>
        <div class="step active">
          <div class="step-number">3</div>
          <div class="step-label">Perfil</div>
        </div>
        <div class="step">
          <div class="step-number">4</div>
          <div class="step-label">Seguranca</div>
        </div>
        <div class="step">
          <div class="step-number">5</div>
          <div class="step-label">Validacao</div>
        </div>
      </div>

      <div class="alert alert-info">
        <i class="bi bi-info-circle"></i>
        <div>
          <strong>Por que isso e importante?</strong><br>
          Suas respostas nos ajudam a recomendar ofertas adequadas ao seu perfil de risco.
        </div>
      </div>

      <form id="perfilForm" onsubmit="return calcularPerfil(event)">
        <!-- Pergunta 1 -->
        <div class="card mb-20">
          <p style="font-weight: 600; margin-bottom: 15px;">1. Qual e o seu objetivo principal ao investir?</p>
          <div class="method-options">
            <label class="method-option" onclick="selectOption(this)">
              <input type="radio" name="q1" value="1" required>
              <div class="method-info">
                <h4>Preservar meu patrimonio</h4>
                <p class="text-muted">Priorizo seguranca, mesmo com retornos menores</p>
              </div>
            </label>
            <label class="method-option" onclick="selectOption(this)">
              <input type="radio" name="q1" value="2">
              <div class="method-info">
                <h4>Equilibrar seguranca e retorno</h4>
                <p class="text-muted">Aceito algum risco por retornos melhores</p>
              </div>
            </label>
            <label class="method-option selected" onclick="selectOption(this)">
              <input type="radio" name="q1" value="3" checked>
              <div class="method-info">
                <h4>Maximizar retornos</h4>
                <p class="text-muted">Aceito riscos maiores por ganhos potenciais altos</p>
              </div>
            </label>
          </div>
        </div>

        <!-- Pergunta 2 -->
        <div class="card mb-20">
          <p style="font-weight: 600; margin-bottom: 15px;">2. Por quanto tempo pretende manter seus investimentos?</p>
          <div class="method-options">
            <label class="method-option" onclick="selectOption(this)">
              <input type="radio" name="q2" value="1" required>
              <div class="method-info">
                <h4>Ate 1 ano</h4>
                <p class="text-muted">Curto prazo</p>
              </div>
            </label>
            <label class="method-option selected" onclick="selectOption(this)">
              <input type="radio" name="q2" value="2" checked>
              <div class="method-info">
                <h4>1 a 3 anos</h4>
                <p class="text-muted">Medio prazo</p>
              </div>
            </label>
            <label class="method-option" onclick="selectOption(this)">
              <input type="radio" name="q2" value="3">
              <div class="method-info">
                <h4>Mais de 3 anos</h4>
                <p class="text-muted">Longo prazo</p>
              </div>
            </label>
          </div>
        </div>

        <!-- Pergunta 3 -->
        <div class="card mb-20">
          <p style="font-weight: 600; margin-bottom: 15px;">3. Como voce reagiria se seu investimento caisse 20% em um mes?</p>
          <div class="method-options">
            <label class="method-option" onclick="selectOption(this)">
              <input type="radio" name="q3" value="1" required>
              <div class="method-info">
                <h4>Venderia imediatamente</h4>
                <p class="text-muted">Prefiro evitar mais perdas</p>
              </div>
            </label>
            <label class="method-option selected" onclick="selectOption(this)">
              <input type="radio" name="q3" value="2" checked>
              <div class="method-info">
                <h4>Aguardaria a recuperacao</h4>
                <p class="text-muted">Manteria e acompanharia</p>
              </div>
            </label>
            <label class="method-option" onclick="selectOption(this)">
              <input type="radio" name="q3" value="3">
              <div class="method-info">
                <h4>Investiria mais</h4>
                <p class="text-muted">Aproveitaria a oportunidade</p>
              </div>
            </label>
          </div>
        </div>

        <!-- Pergunta 4 -->
        <div class="card mb-20">
          <p style="font-weight: 600; margin-bottom: 15px;">4. Qual sua experiencia com investimentos?</p>
          <div class="method-options">
            <label class="method-option" onclick="selectOption(this)">
              <input type="radio" name="q4" value="1" required>
              <div class="method-info">
                <h4>Iniciante</h4>
                <p class="text-muted">Poupanca ou renda fixa basica</p>
              </div>
            </label>
            <label class="method-option selected" onclick="selectOption(this)">
              <input type="radio" name="q4" value="2" checked>
              <div class="method-info">
                <h4>Intermediario</h4>
                <p class="text-muted">Fundos, acoes, FIIs</p>
              </div>
            </label>
            <label class="method-option" onclick="selectOption(this)">
              <input type="radio" name="q4" value="3">
              <div class="method-info">
                <h4>Avancado</h4>
                <p class="text-muted">Derivativos, criptos, venture capital</p>
              </div>
            </label>
          </div>
        </div>

        <button type="submit" class="btn btn-primary btn-block btn-lg">Continuar</button>
      </form>

      <div class="text-center mt-20">
        <a href="cadastro-endereco.html" style="color: var(--text-muted); text-decoration: none;">
          <i class="bi bi-arrow-left"></i> Voltar
        </a>
      </div>

      <!-- CVM Disclaimer -->
      <div class="auth-disclaimer">
        <p><i class="bi bi-shield-check"></i> Plataforma autorizada CVM - RCVM 88/2022</p>
        <p class="text-muted" style="font-size: 0.7rem;">Investimentos envolvem riscos. Leia o material da oferta antes de investir.</p>
      </div>
    </div>
  </div>

  <!-- Modal de Resultado -->
  <div class="modal-overlay" id="perfilModal" style="display: none;">
    <div class="modal" style="max-width: 450px;">
      <div class="modal-header">
        <h3>Seu Perfil de Investidor</h3>
      </div>
      <div class="modal-body text-center">
        <div id="perfilIcon" style="font-size: 4rem; margin-bottom: 15px;"></div>
        <h2 id="perfilTitulo" style="margin-bottom: 10px;"></h2>
        <p id="perfilDescricao" class="text-muted"></p>
        
        <div id="perfilCaracteristicas" style="background: var(--bg); border-radius: var(--radius); padding: 15px; margin-top: 20px; text-align: left;">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary btn-block" onclick="window.location.href='2fa-config.html'">Continuar</button>
      </div>
    </div>
  </div>

  <script src="../js/app.js"></script>
  <script>
    function selectOption(element) {
      const parent = element.closest('.method-options');
      parent.querySelectorAll('.method-option').forEach(opt => opt.classList.remove('selected'));
      element.classList.add('selected');
      element.querySelector('input').checked = true;
    }

    function calcularPerfil(event) {
      event.preventDefault();
      
      const q1 = parseInt(document.querySelector('input[name="q1"]:checked').value);
      const q2 = parseInt(document.querySelector('input[name="q2"]:checked').value);
      const q3 = parseInt(document.querySelector('input[name="q3"]:checked').value);
      const q4 = parseInt(document.querySelector('input[name="q4"]:checked').value);
      
      const total = q1 + q2 + q3 + q4;
      
      let perfil, icon, descricao, caracteristicas;
      
      if (total <= 5) {
        perfil = 'Conservador';
        icon = '<i class="bi bi-shield-check" style="color: #10b981;"></i>';
        descricao = 'Voce prioriza a seguranca do seu capital e prefere investimentos com menor risco.';
        caracteristicas = `
          <p><i class="bi bi-check-circle text-success"></i> Prioriza seguranca</p>
          <p><i class="bi bi-check-circle text-success"></i> Baixa tolerancia a perdas</p>
          <p><i class="bi bi-check-circle text-success"></i> Prefere retornos estaveis</p>
        `;
      } else if (total <= 9) {
        perfil = 'Moderado';
        icon = '<i class="bi bi-bar-chart" style="color: #3b82f6;"></i>';
        descricao = 'Voce busca equilibrio entre seguranca e rentabilidade, aceitando riscos moderados.';
        caracteristicas = `
          <p><i class="bi bi-check-circle text-success"></i> Equilibra risco e retorno</p>
          <p><i class="bi bi-check-circle text-success"></i> Diversifica investimentos</p>
          <p><i class="bi bi-check-circle text-success"></i> Visao de medio prazo</p>
        `;
      } else {
        perfil = 'Arrojado';
        icon = '<i class="bi bi-rocket-takeoff" style="color: #8b5cf6;"></i>';
        descricao = 'Voce aceita riscos maiores em busca de retornos mais expressivos no longo prazo.';
        caracteristicas = `
          <p><i class="bi bi-check-circle text-success"></i> Alta tolerancia a risco</p>
          <p><i class="bi bi-check-circle text-success"></i> Busca altos retornos</p>
          <p><i class="bi bi-check-circle text-success"></i> Visao de longo prazo</p>
        `;
      }
      
      document.getElementById('perfilIcon').innerHTML = icon;
      document.getElementById('perfilTitulo').textContent = perfil;
      document.getElementById('perfilDescricao').textContent = descricao;
      document.getElementById('perfilCaracteristicas').innerHTML = caracteristicas;
      document.getElementById('perfilModal').style.display = 'flex';
      
      return false;
    }
  </script>
  <a href="https://wa.me/5511738090855" target="_blank" class="floating-help-btn whatsapp" title="Atendimento WhatsApp">
    <i class="bi bi-whatsapp"></i>
    <span>Atendimento</span>
  </a>

</body>
</html>
