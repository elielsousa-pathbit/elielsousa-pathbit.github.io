<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Relatórios - Admin - CrowdInvest</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="../../css/style.css">
</head>
<body class="theme-admin">
  <div class="dashboard">
    <div class="mobile-header">
      <div style="display: flex; align-items: center; gap: 10px;">
        <a href="dashboard.html" class="logo" style="color: var(--primary);">CrowdInvest</a>
        <span class="badge badge-warning">Admin</span>
      </div>
    </div>

    <aside class="sidebar sidebar-dark">
      <div class="sidebar-logo">
        <a href="dashboard.html" class="logo" style="color: white;">CrowdInvest</a>
        <span class="badge badge-warning" style="margin-left: 10px;">Admin</span>
      </div>
      <ul class="sidebar-menu">
        <li><a href="dashboard.html"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
        <li><a href="ofertas.html"><i class="bi bi-megaphone"></i> Ofertas</a></li>
        <li><a href="clientes.html"><i class="bi bi-people"></i> Clientes</a></li>
        <li><a href="kyc-fila.html"><i class="bi bi-person-check"></i> Validação Cadastro</a></li>
        <li><a href="moderacao.html"><i class="bi bi-shield-check"></i> Moderação</a></li>
        <li><a href="parceiros.html"><i class="bi bi-building"></i> Parceiros</a></li>
        <li><a href="imposto-renda.html"><i class="bi bi-file-earmark-text"></i> Imposto de Renda</a></li>
        <li><a href="relatorios.html" class="active"><i class="bi bi-bar-chart"></i> Relatórios</a></li>
        <li><a href="configuracoes.html"><i class="bi bi-gear"></i> Configurações</a></li>
        <li><a href="../admin-login.html"><i class="bi bi-box-arrow-left"></i> Sair</a></li>
      </ul>
    </aside>
    <div class="mobile-overlay" onclick="closeMobileMenus()"></div>

    <main class="main-content">
      <button class="menu-toggle" onclick="toggleSidebar()"><i class="bi bi-list"></i><span> Menu</span></button>

      <div class="page-header">
        <div>
          <h1 class="page-title">Relatórios</h1>
          <p class="text-muted">Gere e exporte relatórios da plataforma</p>
        </div>
        <div class="header-user-info">
          <div class="dropdown" style="position: relative;">
            <button class="btn btn-outline" onclick="toggleDropdown('exportDropdown')">
              <i class="bi bi-download"></i> Exportar <i class="bi bi-chevron-down"></i>
            </button>
            <div id="exportDropdown" class="dropdown-menu" style="display: none; position: absolute; right: 0; top: 100%; background: white; border: 1px solid var(--border); border-radius: var(--radius); box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-width: 160px; z-index: 100;">
              <a href="#" onclick="Modals.export('excel', 'admin-relatórios'); return false;" style="display: flex; align-items: center; gap: 10px; padding: 10px 15px; text-decoration: none; color: var(--text);">
                <i class="bi bi-file-earmark-excel" style="color: #217346;"></i> Excel (.xlsx)
              </a>
              <a href="#" onclick="Modals.export('csv', 'admin-relatórios'); return false;" style="display: flex; align-items: center; gap: 10px; padding: 10px 15px; text-decoration: none; color: var(--text);">
                <i class="bi bi-filetype-csv" style="color: #6c757d;"></i> CSV (.csv)
              </a>
              <a href="#" onclick="Modals.export('pdf', 'admin-relatórios'); return false;" style="display: flex; align-items: center; gap: 10px; padding: 10px 15px; text-decoration: none; color: var(--text);">
                <i class="bi bi-file-earmark-pdf" style="color: #dc3545;"></i> PDF (.pdf)
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="grid-2">
        <!-- Relatórios disponíveis -->
        <div class="card">
          <h3 style="margin-bottom: 20px;">Relatórios Operacionais</h3>
          <div style="display: flex; flex-direction: column; gap: 15px;">
            <div class="flex-between" style="padding: 15px; background: var(--bg); border-radius: var(--radius);">
              <div>
                <strong>Captação Mensal</strong>
                <p class="text-muted" style="font-size: 0.875rem;">Volume captado por mes/oferta</p>
              </div>
              <div class="header-user-info">
                <a href="relatorio-visualizar.html" class="btn btn-primary btn-sm"><i class="bi bi-eye"></i> Visualizar</a>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoExcelModal')"><i class="bi bi-file-earmark-excel"></i></button>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoPDFModal')"><i class="bi bi-file-earmark-pdf"></i></button>
              </div>
            </div>
            <div class="flex-between" style="padding: 15px; background: var(--bg); border-radius: var(--radius);">
              <div>
                <strong>Clientes por Período</strong>
                <p class="text-muted" style="font-size: 0.875rem;">Novos cadastros e ativações</p>
              </div>
              <div class="header-user-info">
                <a href="relatorio-visualizar.html" class="btn btn-primary btn-sm"><i class="bi bi-eye"></i> Visualizar</a>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoExcelModal')"><i class="bi bi-file-earmark-excel"></i></button>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoPDFModal')"><i class="bi bi-file-earmark-pdf"></i></button>
              </div>
            </div>
            <div class="flex-between" style="padding: 15px; background: var(--bg); border-radius: var(--radius);">
              <div>
                <strong>Taxa de Desistência</strong>
                <p class="text-muted" style="font-size: 0.875rem;">Desistências por oferta/período</p>
              </div>
              <div class="header-user-info">
                <a href="relatorio-visualizar.html" class="btn btn-primary btn-sm"><i class="bi bi-eye"></i> Visualizar</a>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoExcelModal')"><i class="bi bi-file-earmark-excel"></i></button>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoPDFModal')"><i class="bi bi-file-earmark-pdf"></i></button>
              </div>
            </div>
            <div class="flex-between" style="padding: 15px; background: var(--bg); border-radius: var(--radius);">
              <div>
                <strong>Validação de Cadastros</strong>
                <p class="text-muted" style="font-size: 0.875rem;">Taxa aprovação/rejeicao Bureau</p>
              </div>
              <div class="header-user-info">
                <a href="relatorio-visualizar.html" class="btn btn-primary btn-sm"><i class="bi bi-eye"></i> Visualizar</a>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoExcelModal')"><i class="bi bi-file-earmark-excel"></i></button>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoPDFModal')"><i class="bi bi-file-earmark-pdf"></i></button>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <h3 style="margin-bottom: 20px;">Relatórios Regulatórios (CVM)</h3>
          <div style="display: flex; flex-direction: column; gap: 15px;">
            <div class="flex-between" style="padding: 15px; background: var(--bg); border-radius: var(--radius);">
              <div>
                <strong>Relatório Mensal CVM</strong>
                <p class="text-muted" style="font-size: 0.875rem;">Conforme RCVM 88/2022</p>
              </div>
              <div class="header-user-info">
                <a href="relatorio-visualizar.html" class="btn btn-primary btn-sm"><i class="bi bi-eye"></i> Visualizar</a>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoExcelModal')"><i class="bi bi-file-earmark-excel"></i></button>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoPDFModal')"><i class="bi bi-file-earmark-pdf"></i></button>
              </div>
            </div>
            <div class="flex-between" style="padding: 15px; background: var(--bg); border-radius: var(--radius);">
              <div>
                <strong>Limites por Investidor</strong>
                <p class="text-muted" style="font-size: 0.875rem;">Verificação limite R$ 20k</p>
              </div>
              <div class="header-user-info">
                <a href="relatorio-visualizar.html" class="btn btn-primary btn-sm"><i class="bi bi-eye"></i> Visualizar</a>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoExcelModal')"><i class="bi bi-file-earmark-excel"></i></button>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoPDFModal')"><i class="bi bi-file-earmark-pdf"></i></button>
              </div>
            </div>
            <div class="flex-between" style="padding: 15px; background: var(--bg); border-radius: var(--radius);">
              <div>
                <strong>Ofertas Encerradas</strong>
                <p class="text-muted" style="font-size: 0.875rem;">Resumo pos-oferta</p>
              </div>
              <div class="header-user-info">
                <a href="relatorio-visualizar.html" class="btn btn-primary btn-sm"><i class="bi bi-eye"></i> Visualizar</a>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoExcelModal')"><i class="bi bi-file-earmark-excel"></i></button>
                <button class="btn btn-outline btn-sm" onclick="showModal('gerandoPDFModal')"><i class="bi bi-file-earmark-pdf"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Relatórios recentes -->
      <div class="card mt-20">
        <h3 style="margin-bottom: 20px;">Relatórios Gerados Recentemente</h3>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Relatório</th>
                <th>Período</th>
                <th>Gerado em</th>
                <th>Por</th>
                <th>Ação</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Captação Mensal</td>
                <td>Janeiro/2026</td>
                <td>19/01/2026 10:30</td>
                <td>admin@albainvest.com.br</td>
                <td>
                  <div class="header-user-info">
                    <button class="btn btn-outline btn-sm" onclick="showModal('downloadExcelModal')"><i class="bi bi-file-earmark-excel"></i></button>
                    <button class="btn btn-outline btn-sm" onclick="showModal('downloadPDFModal')"><i class="bi bi-file-earmark-pdf"></i></button>
                  </div>
                </td>
              </tr>
              <tr>
                <td>Relatório Mensal CVM</td>
                <td>Dezembro/2024</td>
                <td>05/01/2026 09:00</td>
                <td>admin@albainvest.com.br</td>
                <td>
                  <div class="header-user-info">
                    <button class="btn btn-outline btn-sm" onclick="showModal('downloadExcelModal')"><i class="bi bi-file-earmark-excel"></i></button>
                    <button class="btn btn-outline btn-sm" onclick="showModal('downloadPDFModal')"><i class="bi bi-file-earmark-pdf"></i></button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- Disclaimer Regulatório CVM -->
      <div class="dashboard-disclaimer">
        <div class="cvm-badge"><i class="bi bi-shield-check"></i> Plataforma autorizada CVM - RCVM 88/2022</div>
        <p>ALBA PLATAFORMA DE INVESTIMENTOS ALTERNATIVOS LTDA (Alba Capital). CNPJ: 43.413.213/0001-58. Plataforma de investimentos alternativos autorizada pela Comissão de Valores Mobiliários (CVM) conforme Resolução RCVM 88/2022.</p><p style="font-size: 0.8rem; margin-top: 8px;"><i class="bi bi-envelope"></i> contato@albainvest.com.br | <i class="bi bi-whatsapp"></i> (11) 7380-9085</p>
        <div class="warning-text">
          <i class="bi bi-exclamation-triangle"></i>
          <span>Investimentos em startups e pequenas empresas envolvem riscos significativos, incluindo perda total do capital investido. Rentabilidade passada não garante rentabilidade futura. Leia atentamente o material da oferta antes de investir.</span>
        </div>
      </div>
    </main>
  </div>

  <div class="modal-overlay" id="gerandoExcelModal" style="display: none;">
    <div class="modal text-center" style="max-width: 400px;">
      <div style="padding: 30px;">
        <i class="bi bi-check-circle" style="font-size: 3rem; color: var(--success);"></i>
        <h3 style="margin: 15px 0;">Gerando Excel</h3>
        <p class="text-muted">O relatório Excel está sendo gerado...</p>
        <button class="btn btn-primary mt-20" onclick="hideModal('gerandoExcelModal')">OK</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="gerandoPDFModal" style="display: none;">
    <div class="modal text-center" style="max-width: 400px;">
      <div style="padding: 30px;">
        <i class="bi bi-check-circle" style="font-size: 3rem; color: var(--success);"></i>
        <h3 style="margin: 15px 0;">Gerando PDF</h3>
        <p class="text-muted">O relatório PDF está sendo gerado...</p>
        <button class="btn btn-primary mt-20" onclick="hideModal('gerandoPDFModal')">OK</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="downloadExcelModal" style="display: none;">
    <div class="modal text-center" style="max-width: 400px;">
      <div style="padding: 30px;">
        <i class="bi bi-check-circle" style="font-size: 3rem; color: var(--success);"></i>
        <h3 style="margin: 15px 0;">Download Excel</h3>
        <p class="text-muted">O download do arquivo Excel foi iniciado.</p>
        <button class="btn btn-primary mt-20" onclick="hideModal('downloadExcelModal')">OK</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="downloadPDFModal" style="display: none;">
    <div class="modal text-center" style="max-width: 400px;">
      <div style="padding: 30px;">
        <i class="bi bi-check-circle" style="font-size: 3rem; color: var(--success);"></i>
        <h3 style="margin: 15px 0;">Download PDF</h3>
        <p class="text-muted">O download do arquivo PDF foi iniciado.</p>
        <button class="btn btn-primary mt-20" onclick="hideModal('downloadPDFModal')">OK</button>
      </div>
    </div>
  </div>

  <script src="../../js/app.js"></script>
  

</body>
</html>
